# DocLink - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## –û–±–∑–æ—Ä

DocLink - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ç–µ–ª–µ–º–µ–¥–∏—Ü–∏–Ω—ã –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏, –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ –≤—ã–≤–æ–¥–æ–º —Å—Ä–µ–¥—Å—Ç–≤.

---

## üé® –î–∏–∑–∞–π–Ω –∏ UX

### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –î–∏–∑–∞–π–Ω
- ‚úÖ **–î–≤—É—Ö—Ç–µ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (Light/Dark)
- ‚úÖ **Glassmorphism —ç—Ñ—Ñ–µ–∫—Ç—ã** (blur, –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å)
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** (Desktop/Tablet/Mobile)
- ‚úÖ **iOS-style –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (–º–µ–Ω—é —Å–Ω–∏–∑—É)
- ‚úÖ **SVG –∏–∫–æ–Ω–∫–∏** –≤–º–µ—Å—Ç–æ —ç–º–æ–¥–∑–∏
- ‚úÖ **–ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏** (200-300ms, cubic-bezier)
- ‚úÖ **–ï–¥–∏–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞**: –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç #1D9ED8

### –°—Ç—Ä–∞–Ω–∏—Ü—ã

#### Landing Page (`/`)
- –ì–µ—Ä–æ–∏—á–µ—Å–∫–∏–π –±–∞–Ω–Ω–µ—Ä —Å CTA
- –°–µ–∫—Ü–∏—è "–û —Å–µ—Ä–≤–∏—Å–µ"
- "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç" (4 —à–∞–≥–∞)
- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤
- –°–µ–∫—Ü–∏—è –≤—Ä–∞—á–µ–π (—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤)
- –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–∞–∫–µ—Ç—ã
- Footer —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **Login Page** (`/login`)
  - –î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π –¥–∏–∑–∞–π–Ω (—Å–ª–µ–≤–∞ - –±—Ä–µ–Ω–¥, —Å–ø—Ä–∞–≤–∞ - —Ñ–æ—Ä–º–∞)
  - Email + –ø–∞—Ä–æ–ª—å
  - –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
  - Glassmorphism —ç—Ñ—Ñ–µ–∫—Ç

- **Register Page** (`/register`)
  - –í—ã–±–æ—Ä —Ä–æ–ª–∏ (–ü–∞—Ü–∏–µ–Ω—Ç/–í—Ä–∞—á)
  - Email + –ø–∞—Ä–æ–ª—å
  - –¢–æ—Ç –∂–µ —Å—Ç–∏–ª—å –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
  - –°—Å—ã–ª–∫–∞ –Ω–∞ –≤—Ö–æ–¥

#### Dashboard (`/dashboard`)
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–º–µ—Ç—Ä–∏–∫–∏)
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
- Glassmorphism header

#### –í—Ä–∞—á–∏ (`/doctors`)
- –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- –ö–∞—Ä—Ç–æ—á–∫–∏ –≤—Ä–∞—á–µ–π —Å:
  - –§–æ—Ç–æ/–∞–≤–∞—Ç–∞—Ä–æ–º
  - –ò–º–µ–Ω–µ–º, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é
  - –û–ø–∏—Å–∞–Ω–∏–µ–º –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - –†–µ–π—Ç–∏–Ω–≥–æ–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Ç–∑—ã–≤–æ–≤
  - –¶–µ–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
  - –ö–Ω–æ–ø–∫–æ–π "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è"

#### –ó–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é (`/schedule`)
- –í—ã–±–æ—Ä –≤—Ä–∞—á–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å** –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
- –°–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (08:00 - 17:00)
- **Glasmorphism popup** —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º:
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–∞—á–µ
  - –í—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
  - –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ –ø–æ–∏–Ω—Ç–∞—Ö
  - –ö–Ω–æ–ø–∫–∏ "–û—Ç–º–µ–Ω–∏—Ç—å" –∏ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"

#### –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ (`/consultations`)
- **–¢—Ä–∏ –≤–∫–ª–∞–¥–∫–∏**:
  - –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ
  - –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ
  - –û—Ç–º–µ–Ω—ë–Ω–Ω—ã–µ
- –î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–∞—á–µ
  - –î–∞—Ç–∞, –≤—Ä–µ–º—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –°—Ç–∞—Ç—É—Å
  - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è" (–¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö)
  - –ò—Å—Ç–æ—Ä–∏—è –∏ –∑–∞–º–µ—Ç–∫–∏ –≤—Ä–∞—á–∞

#### –í–∏–¥–µ–æ–∫–æ–º–Ω–∞—Ç–∞ (`/consultation-room/:id`)
- –î–≤–æ–π–Ω–æ–µ –≤–∏–¥–µ–æ (–≤—Ä–∞—á + –ø–∞—Ü–∏–µ–Ω—Ç)
- –î–∏—Å–ø–ª–µ–π –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π/–º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º
- **–ß–∞—Ç** –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

#### –ü—Ä–æ—Ñ–∏–ª—å (`/profile`)
- **–ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è**:
  - Avatar (—Å –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤–æ–≥–æ)
  - –ò–º—è, email
  - –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è**:
  - –ò–º—è, —Ñ–∞–º–∏–ª–∏—è, email
  - –¢–µ–ª–µ—Ñ–æ–Ω, –≤–æ–∑—Ä–∞—Å—Ç, –ø–æ–ª, –≥–æ—Ä–æ–¥
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞

- **–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ö–∞—Ä—Ç–∞ (–≠–ú–ö)**:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (drag-and-drop)
  - –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å:
    - –¢–∏–ø–æ–º (–ó–∞–∫–ª—é—á–µ–Ω–∏–µ, –ê–Ω–∞–ª–∏–∑—ã –∏ —Ç.–¥.)
    - –î–∞—Ç–æ–π, –≤—Ä–∞—á–æ–º
    - –ö–Ω–æ–ø–∫–∞–º–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Å–∫–∞—á–∏–≤–∞–Ω–∏—è
  - Glasmorphism –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è**:
  - –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
  - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –≤—Ä–∞—á–µ–π
  - –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

#### –ö–æ—à–µ–ª—ë–∫ (`/wallet`)
- **–ë–∞–ª–∞–Ω—Å** (–∫—Ä–∞—Å–∏–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º)
- **–ü–∞–∫–µ—Ç—ã –ø–æ–∏–Ω—Ç–æ–≤** –¥–ª—è –ø–æ–∫—É–ø–∫–∏:
  - 100 –ø–æ–∏–Ω—Ç–æ–≤
  - 250 –ø–æ–∏–Ω—Ç–æ–≤ (—Å–∫–∏–¥–∫–∞ 10%)
  - 500 –ø–æ–∏–Ω—Ç–æ–≤ (—Å–∫–∏–¥–∫–∞ 15%)
  - 1000 –ø–æ–∏–Ω—Ç–æ–≤ (—Å–∫–∏–¥–∫–∞ 20%)
  - –ö–Ω–æ–ø–∫–∏ "–ö—É–ø–∏—Ç—å"

- **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**:
  - –¢–∏–ø (–ø–æ–∫—É–ø–∫–∞/—Å–ø–∏—Å–∞–Ω–∏–µ)
  - –û–ø–∏—Å–∞–Ω–∏–µ
  - –°—É–º–º–∞
  - –î–∞—Ç–∞
  - –ò–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

#### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- **Desktop header** (Glasmorphism):
  - –õ–æ–≥–æ—Ç–∏–ø DocLink
  - –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å —Ç–µ–∫—Å—Ç–æ–º + –∏–∫–æ–Ω–∫–∞–º–∏
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (dropdown –º–µ–Ω—é)
  - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ —Ç–µ–º—ã –∏ —è–∑—ã–∫–∞

- **Mobile menu** (iOS-style, –≤–Ω–∏–∑—É):
  - 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  - –ò–∫–æ–Ω–∫–∏ + —Ç–µ–∫—Å—Ç
  - –ê–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç –ø–æ–¥—Å–≤–µ—á–µ–Ω

- **User menu** (dropdown):
  - "–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å"
  - "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
  - "–í—ã—Ö–æ–¥"
  - **–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ** –ø–æ–¥ –∞–≤–∞—Ç–∞—Ä–æ–º

---

## üîß –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Backend

### 1. **–°–∏—Å—Ç–µ–º–∞ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π**

#### –ú–æ–¥–µ–ª–∏ –ë–î
```
Consultation:
  - id, patient_id, doctor_id, slot_id
  - status: created ‚Üí active ‚Üí completed | cancelled
  - room_id (–¥–ª—è –≤–∏–¥–µ–æ–∫–æ–º–Ω–∞—Ç—ã)
  - points_cost, points_frozen
  - started_at, ended_at

ScheduleSlot:
  - id, doctor_id
  - start_time, end_time
  - is_available, is_reserved
```

#### API Endpoints
```
POST   /api/v1/consultations/book
       - –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
       - –ó–∞–º–æ—Ä–æ–∑–∏—Ç—å –ø–æ–∏–Ω—Ç—ã –ø–∞—Ü–∏–µ–Ω—Ç–∞
       - –°–æ–∑–¥–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

POST   /api/v1/consultations/{id}/start
       - –ù–∞—á–∞—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é

POST   /api/v1/consultations/{id}/complete
       - –ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
       - –°–ø–∏—Å–∞—Ç—å –ø–æ–∏–Ω—Ç—ã
       - –ó–∞—á–∏—Å–ª–∏—Ç—å –¥–æ—Ö–æ–¥ –≤—Ä–∞—á—É

POST   /api/v1/consultations/{id}/cancel
       - –û—Ç–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
       - –í–µ—Ä–Ω—É—Ç—å –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–∏–Ω—Ç—ã

GET    /api/v1/consultations/history
       - –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

GET    /api/v1/consultations/{id}
       - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
```

#### Workflow –°—Ç–∞—Ç—É—Å–æ–≤
```
CREATED (—Å–æ–∑–¥–∞–Ω–∞, –ø–æ–∏–Ω—Ç—ã –∑–∞–º–æ—Ä–æ–∂–µ–Ω—ã)
    ‚Üì
ACTIVE (–Ω–∞—á–∞–ª–∞—Å—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è)
    ‚Üì
COMPLETED (–∑–∞–≤–µ—Ä—à–µ–Ω–∞) ‚Üí –°–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∏–Ω—Ç–æ–≤, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –≤—Ä–∞—á—É
    –∏–ª–∏
CANCELLED ‚Üí –í–æ–∑–≤—Ä–∞—Ç –ø–æ–∏–Ω—Ç–æ–≤
```

---

### 2. **–°–∏—Å—Ç–µ–º–∞ –ü–ª–∞—Ç–µ–∂–µ–π –∏ –ü–æ–∏–Ω—Ç–æ–≤**

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ö–æ—à–µ–ª—å–∫–æ–≤
```
Wallet (–∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):
  - balance: –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–ª–∞–Ω—Å
  - frozen_balance: –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–∏–Ω—Ç—ã

WalletTransaction (–ª–æ–≥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π):
  - transaction_type: PURCHASE, DEBIT, FREEZE, UNFREEZE, REFUND
  - amount: —Å—É–º–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - balance_before/after
  - related_consultation_id
```

#### –û–ø–µ—Ä–∞—Ü–∏–∏
1. **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞** (–ø–∞—Ü–∏–µ–Ω—Ç)
   ```
   –ü–∞—Ü–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –ø–∞–∫–µ—Ç ‚Üí –ø–ª–∞—Ç–µ–∂ ‚Üí +–ø–æ–∏–Ω—Ç—ã –Ω–∞ –±–∞–ª–∞–Ω—Å
   –ù–∞–ø—Ä–∏–º–µ—Ä: 1000 –ø–æ–∏–Ω—Ç–æ–≤ = 499 —Ä—É–±–ª–µ–π
   ```

2. **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏** (–ø–∞—Ü–∏–µ–Ω—Ç)
   ```
   –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ ‚Üí –ó–∞–º–æ—Ä–æ–∑–∏—Ç—å –ø–æ–∏–Ω—Ç—ã
   balance -= points_cost
   frozen_balance += points_cost
   –ó–∞–ø–∏—Å—å –≤ WalletTransaction (FREEZE)
   ```

3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏** (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞)
   ```
   –°–ø–∏—Å–∞—Ç—å —Å –ø–∞—Ü–∏–µ–Ω—Ç–∞:
     frozen_balance -= points_cost
   
   –ó–∞—á–∏—Å–ª–∏—Ç—å –≤—Ä–∞—á—É (–ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏):
     doctor_balance += (points_cost * 0.8)  # 20% –∫–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   ```

4. **–í–æ–∑–≤—Ä–∞—Ç –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ** (–ø–∞—Ü–∏–µ–Ω—Ç)
   ```
   balance += points_cost
   frozen_balance -= points_cost
   –ó–∞–ø–∏—Å—å –≤ WalletTransaction (UNFREEZE)
   ```

---

### 3. **–°–∏—Å—Ç–µ–º–∞ –ö–æ–º–∏—Å—Å–∏–π –∏ –ó–∞—Ä–∞–±–æ—Ç–∫–æ–≤**

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
```
COMMISSION_PERCENTAGE = 20%  # –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞:
  –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å—Ç–æ–∏—Ç: 100 –ø–æ–∏–Ω—Ç–æ–≤
  –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: 100 * 0.20 = 20 –ø–æ–∏–Ω—Ç–æ–≤
  –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –≤—Ä–∞—á–∞: 100 - 20 = 80 –ø–æ–∏–Ω—Ç–æ–≤
```

#### –ú–æ–¥–µ–ª—å DoctorEarnings
```
DoctorEarnings (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ä–∞—á–∞):
  - total_earned: –≤—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
  - available_balance: –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞
  - total_withdrawn: –≤—Å–µ–≥–æ –≤—ã–≤–µ–¥–µ–Ω–æ
```

#### –ü—Ä–æ—Ü–µ—Å—Å
1. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:
   - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ—Ö–æ–¥ –≤—Ä–∞—á–∞ = points_cost * (1 - COMMISSION_PERCENTAGE)
   - –î–æ–±–∞–≤–∏—Ç—å –≤ doctor.wallet.balance
   - –û–±–Ω–æ–≤–∏—Ç—å doctor_earnings.total_earned –∏ available_balance
   - –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ WalletTransaction

2. –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

### 4. **–°–∏—Å—Ç–µ–º–∞ –í—ã–≤–æ–¥–∞ –°—Ä–µ–¥—Å—Ç–≤**

#### –ú–æ–¥–µ–ª–∏ –ë–î
```
Withdrawal:
  - id, doctor_id
  - amount: —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞
  - status: pending ‚Üí approved ‚Üí completed | rejected
  - bank_account, bank_name
  - created_at, approved_at, completed_at

WithdrawalStatus:
  - PENDING (—Å–æ–∑–¥–∞–Ω –∑–∞–ø—Ä–æ—Å)
  - APPROVED (–æ–¥–æ–±—Ä–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º)
  - COMPLETED (—Å—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã)
  - REJECTED (–æ—Ç–∫–ª–æ–Ω–µ–Ω)
  - CANCELLED (–æ—Ç–º–µ–Ω–µ–Ω –≤—Ä–∞—á–æ–º)
```

#### API Endpoints
```
POST   /api/v1/withdrawals/request
       - –í—Ä–∞—á —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥
       - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º—É–º–∞ (500 —Ä—É–±.)
       - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
       - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

POST   /api/v1/withdrawals/{id}/approve
       - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ–¥–æ–±—Ä—è–µ—Ç –≤—ã–≤–æ–¥
       - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Ä–∞—á—É

POST   /api/v1/withdrawals/{id}/complete
       - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
       - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ total_withdrawn

POST   /api/v1/withdrawals/{id}/reject
       - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –≤—ã–≤–æ–¥
       - –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ available_balance

GET    /api/v1/withdrawals/history
       - –ò—Å—Ç–æ—Ä–∏—è –≤—ã–≤–æ–¥–æ–≤ –≤—Ä–∞—á–∞

GET    /api/v1/withdrawals/earnings
       - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞—Ö –≤—Ä–∞—á–∞
```

#### Workflow –í—ã–≤–æ–¥–∞
```
1. –í—Ä–∞—á –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–≤–æ–¥ (amount = 1000 —Ä—É–±.)
   - available_balance -= 1000
   - –°–æ–∑–¥–∞—ë—Ç—Å—è Withdrawal (PENDING)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ–¥–æ–±—Ä—è–µ—Ç
   - Withdrawal.status = APPROVED
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Ä–∞—á—É

3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–≤–µ—Ä—à–∞–µ—Ç
   - Withdrawal.status = COMPLETED
   - total_withdrawn += 1000
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Ä–∞—á—É
   - –°—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç –≤—Ä–∞—á–∞

–ò–ª–∏: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç
   - Withdrawal.status = REJECTED
   - available_balance += amount (–≤–æ–∑–≤—Ä–∞—Ç)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Ä–∞—á—É —Å –ø—Ä–∏—á–∏–Ω–æ–π
```

---

### 5. **–°–∏—Å—Ç–µ–º–∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**

#### –ú–æ–¥–µ–ª—å
```
Notification:
  - user_id, title, message
  - notification_type: email, sms, push
  - is_read
  - created_at
```

#### –°–æ–±—ã—Ç–∏—è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
1. **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏**
   - –ü–∞—Ü–∏–µ–Ω—Ç: "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ [–¥–∞—Ç–∞] [–≤—Ä–µ–º—è]"
   - –í—Ä–∞—á: "–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –Ω–∞ [–¥–∞—Ç–∞] [–≤—Ä–µ–º—è]"

2. **–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥**
   - –í—Ä–∞—á: "–ó–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ [—Å—É–º–º–∞] —Å–æ–∑–¥–∞–Ω"
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: "–ù–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ [—Å—É–º–º–∞] –æ—Ç –≤—Ä–∞—á–∞ [–∏–º—è]"

3. **–û–¥–æ–±—Ä–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞**
   - –í—Ä–∞—á: "–í–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–≤–æ–¥ –æ–¥–æ–±—Ä–µ–Ω"

4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞**
   - –í—Ä–∞—á: "–°—Ä–µ–¥—Å—Ç–≤–∞ –≤ —Ä–∞–∑–º–µ—Ä–µ [—Å—É–º–º–∞] –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –≤–∞—à —Å—á–µ—Ç"

5. **–û—Ç–º–µ–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏**
   - –í—Ä–∞—á/–ü–∞—Ü–∏–µ–Ω—Ç: "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞. –ü—Ä–∏—á–∏–Ω–∞: [–ø—Ä–∏—á–∏–Ω–∞]"

---

## üìä –î–∞–Ω–Ω—ã–µ –∏ –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä Workflow: –ü–æ–ª–Ω–∞—è –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è

```
1. –ü–∞—Ü–∏–µ–Ω—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É
   balance = 1000 –ø–æ–∏–Ω—Ç–æ–≤

2. –ü–∞—Ü–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–∞—á–∞ –∏ –±—Ä–æ–Ω–∏—Ä—É–µ—Ç
   POST /api/v1/consultations/book
   {
     "doctor_id": 5,
     "slot_id": 42,
     "points_cost": 100
   }
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç:
     balance = 1000
     frozen_balance = 100
     –°–æ–∑–¥–∞–Ω–∞ Consultation (status=CREATED)
     –°–æ–∑–¥–∞–Ω–æ 2 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–≤—Ä–∞—á—É –∏ –ø–∞—Ü–∏–µ–Ω—Ç—É)

3. –ü—Ä–∏—Ö–æ–¥–∏—Ç –≤—Ä–µ–º—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –≤—Ä–∞—á/–ø–∞—Ü–∏–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞—é—Ç
   POST /api/v1/consultations/123/start
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç:
     Consultation.status = ACTIVE
     started_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

4. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
   POST /api/v1/consultations/123/complete
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç:
     Consultation.status = COMPLETED
     ended_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
     
     –ü–∞—Ü–∏–µ–Ω—Ç:
       balance = 900 (1000 - 100)
       frozen_balance = 0
       WalletTransaction: type=DEBIT, amount=100
     
     –í—Ä–∞—á:
       DoctorEarnings:
         total_earned += 80
         available_balance += 80
       WalletTransaction: type=PURCHASE, amount=80

5. –í—Ä–∞—á –ø—Ä–æ—Å–∏—Ç –≤—ã–≤–æ–¥ (200 –ø–æ–∏–Ω—Ç–æ–≤ = 600 —Ä—É–±.)
   POST /api/v1/withdrawals/request
   {
     "amount": "600",
     "bank_account": "40817810030002095381",
     "bank_name": "–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫"
   }
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç:
     available_balance = 80 - 80 = 0 (–≤—Å—ë –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–æ)
     –°–æ–∑–¥–∞–Ω Withdrawal (status=PENDING)
     –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

6. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ–¥–æ–±—Ä—è–µ—Ç –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç
   POST /api/v1/withdrawals/1/approve
   POST /api/v1/withdrawals/1/complete
   
   –†–µ–∑—É–ª—å—Ç–∞—Ç:
     Withdrawal.status = COMPLETED
     total_withdrawn += 600
     –°—Ä–µ–¥—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤—Ä–∞—á—É
     –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Ä–∞—á—É
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ Refresh tokens –¥–ª—è –ø—Ä–æ–¥–ª—ë–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- ‚úÖ CORS –∑–∞—â–∏—Ç–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Pydantic)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (PATIENT, DOCTOR, ADMIN)

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker, Docker Compose
- PostgreSQL 13+
- Redis (–¥–ª—è –∫—ç—à–∞ –∏ WebSocket)
- Node.js 16+, Python 3.9+

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```bash
cd /opt/projects/doclink
sudo docker-compose up --build -d
```

### –î–æ—Å—Ç—É–ø
- Frontend: https://doclink.it-mydoc.ru/
- Backend API: https://doclink.it-mydoc.ru/api/v1/
- API Docs: https://doclink.it-mydoc.ru/api/docs/

---

## üìù –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Test Users

**–ü–∞—Ü–∏–µ–Ω—Ç:**
```
Email: patient@test.com
Password: password123
Role: patient
```

**–í—Ä–∞—á:**
```
Email: doctor@test.com
Password: password123
Role: doctor
Specialty: –¢–µ—Ä–∞–ø–µ–≤—Ç
Consultation Price: 100 poins
```

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
```
Email: admin@test.com
Password: password123
Role: admin
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

–î–ª—è –ø–æ–ª–Ω–æ–π production-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **WebRTC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ä–µ–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏
2. **Payment Gateway** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yookassa/Stripe
3. **Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º (SendGrid/SMTP)
4. **SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - Twilio –∏–ª–∏ –∞–Ω–∞–ª–æ–≥
5. **Monitoring** - Sentry, DataDog
6. **Unit/Integration tests** - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
7. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API** - OpenAPI/Swagger (–≥–æ—Ç–æ–≤–æ)
8. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - Redis –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –¥–∞–Ω–Ω—ã—Ö
9. **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS
10. **Backup & Recovery** - –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2024  
**–°—Ç–∞—Ç—É—Å:** Production Ready (Prototype)

